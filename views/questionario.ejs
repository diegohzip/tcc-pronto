<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ficha de Treino Personalizada</title>
  <link rel="stylesheet" href="/styles/questionario.css" />
  <link rel="stylesheet" href="/styles/padrao.css" />
  <link rel="icon" type="image/png" href="/images/logo.png" />
</head>
<body>
<%- include('partials/header', { usuario }) %>

  <div class="container">
    <!-- Barra de Progresso -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <h1>Monte sua Ficha de Treino</h1>
    <form id="formulario">
      <div class="pergunta" id="pergunta1">
        <label>1. Gênero:</label>
        <select id="genero" required>
          <option value="">Selecione</option>
          <option value="homem">Masculino</option>
          <option value="mulher">Feminino</option>
        </select>
      </div>

      <div class="pergunta" id="pergunta2" style="display: none;">
        <label>2. Nível de experiência:</label>
        <select id="experiencia" required>
          <option value="">Selecione</option>
          <option value="iniciante">Iniciante</option>
          <option value="intermediario">Intermediário</option>
          <option value="avancado">Avançado</option>
        </select>
      </div>

      <div class="pergunta" id="pergunta3" style="display: none;">
        <div class="linha-condicao">
          <label for="condicao">3. Condição física:</label>
          <select id="condicao" required>
            <option value="">Selecione</option>
            <option value="boa">Boa</option>
            <option value="mediana">Mediana</option>
            <option value="ruim">Ruim</option>
          </select>
          <button type="button" id="abrirCalculadoraIMC" class="btn-imc">Calcular IMC</button>
        </div>
      </div>

      <div class="pergunta" id="pergunta4" style="display: none;">
        <label>4. Possui lesão?</label>
        <select id="lesao" required>
          <option value="">Selecione</option>
          <option value="sim">Sim</option>
          <option value="nao">Não</option>
        </select>
      </div>

      <div class="pergunta" id="pergunta5" style="display: none;">
        <label>5. Dias disponíveis para treino:</label>
        <select id="dias" required>
          <option value="">Selecione</option>
          <option value="2">2 dias</option>
          <option value="3">3 dias</option>
          <option value="4">4 dias</option>
          <option value="5">5 dias</option>
          <option value="6">6 dias</option>
        </select>
      </div>

      <div class="pergunta" id="pergunta6" style="display: none;">
        <label>6. Tem acesso à academia?</label>
        <select id="academia" required>
          <option value="">Selecione</option>
          <option value="sim">Sim</option>
          <option value="nao">Não</option>
        </select>
      </div>

      <div id="submitBtn" style="display: none;">
        <button type="submit">Gerar Ficha</button>
        <button type="button" id="botaoRedefinir" class="btn-rededefinir">
          Redefinir
        </button>

</div>
    </form>

    <div id="resultado" class="resultado"></div>

    <!-- Cards deslizáveis da ficha de treino -->
    <div id="ficha-container" class="ficha-carousel hidden">
      <div id="ficha-cards" class="ficha-cards"></div>
    </div>
  </div>

  <!-- Pop-up da Descrição do Exercício -->
  <div id="popupDescricao" class="popup-descricao">
    <div class="popup-content">
      <span id="fecharPopup" class="fechar-popup">&times;</span>
      <p id="descricaoTexto"></p>
    </div>
  </div>

<!-- Popup IMC -->
<div id="popupIMC" class="popup">
  <div class="popup-conteudo">
    <span id="fecharPopupIMC" class="fechar">&times;</span>
    <h2>Calculadora de IMC</h2>

    <label for="peso">Peso (kg):</label>
    <input type="number" id="peso" placeholder="Ex: 70" min="1" step="0.1">

    <label for="altura">Altura (m):</label>
    <input type="number" id="altura" placeholder="Ex: 1.75" min="0.5" step="0.01">

    <button id="calcularIMC" class="btn-calcular">Calcular</button>

    <div id="resultadoIMC" class="resultado-imc"></div>
  </div>
</div>


  <!-- Pop-up Termos de Uso -->
  <div id="popup-termos" class="popup-termos" style="display: none;">
    <div class="popup-termos-conteudo">
      <span id="fechar-termos" class="fechar-popup">&times;</span>
      <h2>Termos de Uso</h2>
      <p>Ao utilizar este site, você concorda com os seguintes termos e condições:</p>
      <div class="popup-texto">
        <!-- texto dos termos -->
      </div>
      <button id="botao-ok-termos">Ok</button>
    </div>
  </div>


  <%- include('partials/footer') %>
  <script>
  const usuario = <%- JSON.stringify(usuario) %>;
  </script>
  <script src="/js/fichas.js"></script>
  <script src="/js/questionario.js"></script>
</body>
</html>
